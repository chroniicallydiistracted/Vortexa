{"type": "schema", "version": "2.0", "description": "Machine-readable change history for WestFam-Weather-AWS. Backward-compatible extension adding category, change_type, cost_impact, reviewers, relates_to_vision, paths, validation fields.", "fields": {"id": {"type": "string"}, "timestamp": {"type": "string"}, "actor": {"type": "string"}, "area": {"type": "string"}, "category": {"type": "string", "description": "High-level category (mirrors or refines area)."}, "summary": {"type": "string"}, "rationale": {"type": "string"}, "vision_alignment_confirmed": {"type": "boolean"}, "relates_to_vision": {"type": "array", "items": "string"}, "pre_checks": {"type": "array", "items": "string"}, "validation": {"type": "array", "items": "string", "description": "Validation steps performed post-change."}, "changes": {"type": "array", "items": {"type": "object", "fields": {"path": {"type": "string"}, "action": {"type": "string"}, "diff_stats": {"type": "object", "fields": {"added": {"type": "integer"}, "removed": {"type": "integer"}}}}}}, "paths": {"type": "array", "items": "string"}, "commits": {"type": "array", "items": {"type": "object", "fields": {"sha": {"type": "string"}, "message": {"type": "string"}}}}, "links": {"type": "object", "fields": {"pr": {"type": "string"}, "issue": {"type": "string"}}}, "post_checks": {"type": "array", "items": "string"}, "risk": {"type": "string"}, "impact": {"type": "string"}, "status": {"type": "string"}, "change_type": {"type": "string", "description": "add|modify|delete|refactor|docs"}, "cost_impact": {"type": "string", "description": "none|negligible|low|medium|high"}, "reviewers": {"type": "array", "items": "string"}, "follow_ups": {"type": "array", "items": "string"}, "tags": {"type": "array", "items": "string"}}}
{"id": "9611660c-5bb2-4c06-a1ae-b2c16e2396c5", "timestamp": "2025-08-22T09:15:41Z", "actor": "copilot-agent", "area": "web", "category": "web", "summary": "Wrap app in TanStack Query provider; add demo GIBS GeoColor layer; type catalog fetch.", "rationale": "Enable async data fetching and provide a one-click satellite demo to validate the tile proxy end-to-end.", "vision_alignment_confirmed": true, "relates_to_vision": ["1 Unification of Data Sources", "2 High-Performance Visualization"], "pre_checks": ["lint:pass", "build:pass", "tests:n/a"], "validation": ["manual:demo-layer loads"], "changes": [{"path": "web/src/main.tsx", "action": "modify", "diff_stats": {"added": 25, "removed": 5}}, {"path": "web/src/Panel.tsx", "action": "modify", "diff_stats": {"added": 60, "removed": 22}}, {"path": "web/.env.example", "action": "add", "diff_stats": {"added": 3, "removed": 0}}], "paths": ["web/src/main.tsx", "web/src/Panel.tsx", "web/.env.example"], "commits": [{"sha": "deadbeef1234", "message": "feat(web): add QueryClientProvider + demo GIBS layer"}], "links": {"pr": "none", "issue": "none"}, "post_checks": ["web:dev:ok", "proxy:dev:ok"], "risk": "low", "impact": "Developers can fetch and display live tiles via proxy; UX demo available.", "status": "applied", "change_type": "modify", "cost_impact": "none", "reviewers": [], "follow_ups": ["Catalog: curate real WMTS layer IDs per provider", "Time slider: wire to GIBS time params"], "tags": ["frontend", "satellite", "proxy"]}
{"id": "8b12ab1b-a442-476a-8e2e-c77c3c69b8ab", "timestamp": "2025-08-22T09:15:41Z", "actor": "copilot-agent", "area": "infra/terraform", "category": "infra", "summary": "Lock S3 public access, add CloudFront OAC, and bucket policy with SourceArn condition.", "rationale": "Ensure private S3 web bucket readable only via CloudFront, meeting AWS hardening guidance.", "vision_alignment_confirmed": true, "relates_to_vision": ["6 Scalable Infrastructure"], "pre_checks": ["terraform:fmt:pass", "terraform:validate:pass", "plan:changes_detected"], "validation": ["terraform:apply:ok"], "changes": [{"path": "infra/terraform/main.tf", "action": "modify", "diff_stats": {"added": 140, "removed": 30}}, {"path": "infra/terraform/terraform.tfvars", "action": "modify", "diff_stats": {"added": 6, "removed": 0}}], "paths": ["infra/terraform/main.tf", "infra/terraform/terraform.tfvars"], "commits": [{"sha": "beadfeed5678", "message": "infra: add OAC + S3 bucket policy; block public access"}], "links": {"pr": "none", "issue": "none"}, "post_checks": ["terraform:apply:ok", "cloudfront:deploy:in-progress"], "risk": "medium", "impact": "Public reads only through CloudFront; direct S3 access denied; reduces misconfig risk.", "status": "applied", "change_type": "modify", "cost_impact": "none", "reviewers": [], "follow_ups": ["Route53: point weather.westfam.media to CloudFront", "ACM: attach cert to distribution"], "tags": ["security", "oac", "s3", "cloudfront"]}
{"id": "0b7c5ec3-6e0d-4e3f-9b22-8f6c0a0e3d11", "timestamp": "2025-08-22T12:00:00Z", "actor": "copilot-agent", "area": "infra/terraform", "category": "infra", "summary": "Add domain/cert pairing validation + us-east-1 ACM ARN regex.", "rationale": "Prevent partial custom domain config and wrong-region certs early during validate.", "vision_alignment_confirmed": true, "relates_to_vision": ["6 Scalable Infrastructure"], "pre_checks": ["terraform:validate:pending"], "validation": [], "changes": [{"path": "infra/terraform/main.tf", "action": "modify"}], "paths": ["infra/terraform/main.tf"], "commits": [], "links": {"pr": "none", "issue": "none"}, "post_checks": [], "risk": "low", "impact": "Misconfiguration caught before plan/apply.", "status": "applied", "change_type": "modify", "cost_impact": "none", "reviewers": [], "follow_ups": ["Run terraform plan with human approval"], "tags": ["validation", "cloudfront", "safety"]}
{"id": "5e9cfac0-2c2b-4b5f-9dc2-b8c4e6d0a9f4", "timestamp": "2025-08-22T12:00:05Z", "actor": "copilot-agent", "area": "services/alerts", "category": "alerts", "summary": "Deterministic Lambda packaging script with npm ci, prune, sorted zip, checksum.", "rationale": "Ensure reproducible minimal deployment artifact and integrity verification.", "vision_alignment_confirmed": true, "relates_to_vision": ["6 Scalable Infrastructure"], "pre_checks": ["build:pending"], "validation": ["hash:present"], "changes": [{"path": "scripts/package-alerts.sh", "action": "modify"}], "paths": ["scripts/package-alerts.sh"], "commits": [], "links": {"pr": "none", "issue": "none"}, "post_checks": [], "risk": "low", "impact": "Smaller stable artifact with hash for promotion.", "status": "applied", "change_type": "modify", "cost_impact": "none", "reviewers": [], "follow_ups": ["Add CI workflow to publish checksum", "Integrate hash check into deploy script"], "tags": ["packaging", "deterministic", "lambda"]}
{"id": "2f4c6d2a-d4b1-4f1e-a6c6-4d5e9b7f9e10", "timestamp": "2025-08-22T19:25:00Z", "actor": "copilot-agent", "area": "tests", "category": "tests", "summary": "Refactor proxy to export createApp and add initial Vitest suites (proxy, alerts, shared).", "rationale": "Enable isolated testing and establish baseline automated coverage per instructions Testing Expectations.", "vision_alignment_confirmed": true, "relates_to_vision": ["2 High-Performance Visualization", "6 Scalable Infrastructure"], "pre_checks": ["build:pass"], "validation": ["tests:pass"], "changes": [{"path": "services/proxy/src/index.ts", "action": "modify"}, {"path": "services/proxy/src/index.test.ts", "action": "add"}, {"path": "services/alerts/src/index.test.ts", "action": "add"}, {"path": "services/shared/src/types.test.ts", "action": "add"}, {"path": "services/proxy/package.json", "action": "modify"}, {"path": "services/alerts/package.json", "action": "modify"}, {"path": "services/shared/package.json", "action": "modify"}], "paths": ["services/proxy/src/index.ts", "services/proxy/src/index.test.ts", "services/alerts/src/index.test.ts", "services/shared/src/types.test.ts", "services/proxy/package.json", "services/alerts/package.json", "services/shared/package.json"], "commits": [{"sha": "41a6a22", "message": "test: introduce vitest suites for proxy, alerts, and shared types; refactor proxy createApp"}], "links": {"pr": "none", "issue": "none"}, "post_checks": ["tests:pass"], "risk": "low", "impact": "Foundational test scaffolding reduces regression risk for future changes.", "status": "applied", "change_type": "refactor", "cost_impact": "none", "reviewers": [], "follow_ups": ["Add proxy URL normalization tests", "Add S3 cache tests", "Add alerts user-agent assertion"], "tags": ["tests", "refactor", "proxy", "alerts", "shared"]}
{"id": "6d3d29f2-1b7a-4c3c-9c6a-12f4f3a55e77", "timestamp": "2025-08-22T20:04:10Z", "actor": "copilot-agent", "area": "tests", "category": "tests", "summary": "Add WMTS normalization & cache tests, alerts user-agent test, injectable S3 client, and CI test run + artifact upload.", "rationale": "Close documented testing gaps (URL normalization, cache hit/miss, User-Agent) and ensure CI enforces test suite.", "vision_alignment_confirmed": true, "relates_to_vision": ["2 High-Performance Visualization", "6 Scalable Infrastructure"], "pre_checks": ["build:pass"], "validation": ["tests:pass"], "changes": [{"path": "services/proxy/src/index.ts", "action": "modify"}, {"path": "services/proxy/src/tiles.test.ts", "action": "add"}, {"path": "services/proxy/src/cache.test.ts", "action": "add"}, {"path": "services/alerts/src/index.test.ts", "action": "modify"}, {"path": ".github/workflows/ci.yml", "action": "modify"}], "paths": ["services/proxy/src/index.ts", "services/proxy/src/tiles.test.ts", "services/proxy/src/cache.test.ts", "services/alerts/src/index.test.ts", ".github/workflows/ci.yml"], "commits": [{"sha": "3b78a80", "message": "[proxy][tests][ci] feat: add WMTS normalization & cache tests, user-agent test, injectable S3 client, run tests + upload artifact in CI"}], "links": {"pr": "none", "issue": "none"}, "post_checks": ["tests:pass"], "risk": "low", "impact": "Improved regression protection and CI visibility; safer future refactors.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Align history schema to new spec", "Add runbook docs"], "tags": ["tests", "ci", "proxy", "alerts"]}
{"id": "0a9d6b72-5f3e-4f8c-9b1b-6b2d5a7c9e11", "timestamp": "2025-08-22T20:30:00Z", "actor": "copilot-agent", "area": "web", "category": "web", "summary": "Enhance index.html with accessible UI shell, meta tags, PWA scaffolding.", "rationale": "Provide baseline accessible structure (landmarks, skip link) and performance-ready meta tags for future PWA; improves UX groundwork.", "vision_alignment_confirmed": true, "relates_to_vision": ["2 High-Performance Visualization", "5 Personalization & Accessibility"], "pre_checks": ["build:pass"], "validation": ["manual:html renders"], "changes": [{"path": "web/index.html", "action": "modify"}], "paths": ["web/index.html"], "commits": [], "links": {"pr": "none", "issue": "none"}, "post_checks": [], "risk": "low", "impact": "Better accessibility baseline and future PWA readiness.", "status": "applied", "change_type": "modify", "cost_impact": "none", "reviewers": [], "follow_ups": ["Add Lighthouse perf/a11y baseline", "Add code-splitting for Panel"], "tags": ["html", "accessibility", "pwa"]}
{"id": "e2c9b9f4-4d5e-4c3a-9f2a-1b7c5d6e8f90", "timestamp": "2025-08-22T20:40:00Z", "actor": "copilot-agent", "area": "docs", "category": "governance", "summary": "Migrate AGENTUPDATEHISTORY schema to v2.0 and add governance docs (PR template, runbook, commit conventions).", "rationale": "Introduce extended metadata (change_type, cost_impact, reviewers, relates_to_vision) and enforce structured contribution workflow.", "vision_alignment_confirmed": true, "relates_to_vision": ["6 Scalable Infrastructure", "5 Personalization & Accessibility"], "pre_checks": ["build:n/a"], "validation": ["schema:applied"], "changes": [{"path": "AGENTUPDATEHISTORY.jsonl", "action": "modify"}, {"path": ".github/pull_request_template.md", "action": "add"}, {"path": "docs/RUNBOOK.md", "action": "add"}, {"path": "docs/COMMIT_CONVENTIONS.md", "action": "add"}], "paths": ["AGENTUPDATEHISTORY.jsonl", ".github/pull_request_template.md", "docs/RUNBOOK.md", "docs/COMMIT_CONVENTIONS.md"], "commits": [], "links": {"pr": "none", "issue": "none"}, "post_checks": [], "risk": "low", "impact": "Improves traceability and review quality.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Backfill reviewers when human reviews occur", "Automate schema validation in CI"], "tags": ["schema", "governance", "docs"]}
{"id": "c5a8f1a9-7b21-4d2f-9b6d-3c2a1f0e9d77", "timestamp": "2025-08-22T20:50:00Z", "actor": "copilot-agent", "area": "services/proxy", "category": "proxy", "summary": "Add /metrics endpoint and in-memory counters (requests, cache hits/misses, WMTS redirects).", "rationale": "Provide initial observability foundation for performance tuning and future Prometheus integration.", "vision_alignment_confirmed": true, "relates_to_vision": ["2 High-Performance Visualization", "6 Scalable Infrastructure"], "pre_checks": ["build:pass"], "validation": ["tests:added"], "changes": [{"path": "services/proxy/src/index.ts", "action": "modify"}, {"path": "services/proxy/src/metrics.test.ts", "action": "add"}], "paths": ["services/proxy/src/index.ts", "services/proxy/src/metrics.test.ts"], "commits": [], "links": {"pr": "none", "issue": "none"}, "post_checks": [], "risk": "low", "impact": "Enables basic performance and cache insight.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Prometheus client export", "Latency histogram"], "tags": ["metrics", "proxy", "observability"]}
{"id": "fa12d4c3-6e5b-4b0f-9d2a-7c8e1f2a3b4c", "timestamp": "2025-08-22T20:52:00Z", "actor": "copilot-agent", "area": "docs", "category": "docs", "summary": "Add caching strategy document outlining TTLs and enhancements.", "rationale": "Document cache TTL guidance and future optimization tasks for transparent performance-cost tradeoffs.", "vision_alignment_confirmed": true, "relates_to_vision": ["2 High-Performance Visualization", "6 Scalable Infrastructure"], "pre_checks": ["build:n/a"], "validation": [], "changes": [{"path": "docs/CACHING_STRATEGY.md", "action": "add"}], "paths": ["docs/CACHING_STRATEGY.md"], "commits": [], "links": {"pr": "none", "issue": "none"}, "post_checks": [], "risk": "low", "impact": "Shared guidance for consistent caching decisions.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Implement host/path TTL mapping", "Add size guard"], "tags": ["docs", "caching"]}
{"id": "ab98ef23-45d6-4c1a-9e2f-1b3c4d5e6f70", "timestamp": "2025-08-22T20:54:00Z", "actor": "copilot-agent", "area": "ci", "category": "ci", "summary": "Add nightly Terraform drift detection workflow.", "rationale": "Early detection of configuration drift to maintain infra integrity.", "vision_alignment_confirmed": true, "relates_to_vision": ["6 Scalable Infrastructure"], "pre_checks": ["build:n/a"], "validation": ["workflow:syntax"], "changes": [{"path": ".github/workflows/terraform-drift.yml", "action": "add"}], "paths": [".github/workflows/terraform-drift.yml"], "commits": [], "links": {"pr": "none", "issue": "none"}, "post_checks": [], "risk": "low", "impact": "Surface drift proactively without manual plan.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Add PR comment on drift"], "tags": ["ci", "terraform", "drift"]}
{"id": "d1e2f3a4-b5c6-47d8-9e0f-1234567890ab", "timestamp": "2025-08-22T20:56:00Z", "actor": "copilot-agent", "area": "docs", "category": "tooling", "summary": "Add Lighthouse baseline script for perf/a11y scoring.", "rationale": "Establish repeatable measurement to track regressions and improvements in performance & accessibility.", "vision_alignment_confirmed": true, "relates_to_vision": ["2 High-Performance Visualization", "5 Personalization & Accessibility"], "pre_checks": ["build:n/a"], "validation": [], "changes": [{"path": "scripts/lighthouse-baseline.sh", "action": "add"}], "paths": ["scripts/lighthouse-baseline.sh"], "commits": [], "links": {"pr": "none", "issue": "none"}, "post_checks": [], "risk": "low", "impact": "Creates historical record of key Lighthouse scores.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Automate weekly Lighthouse run"], "tags": ["lighthouse", "performance", "a11y"]}
{"id": "8f7c6e5d-4c3b-2a1f-9e8d-7c6b5a4f3e2d", "timestamp": "2025-08-22T22:53:00Z", "actor": "copilot-agent", "area": "services/proxy", "category": "observability", "summary": "Replace manual counters with Prometheus metrics (counters, histogram, gauge) and expose /metrics via prom-client.", "rationale": "Standardize metrics for scraping & enable latency distribution and cache hit ratio visibility.", "vision_alignment_confirmed": true, "relates_to_vision": ["2 High-Performance Visualization", "6 Scalable Infrastructure"], "pre_checks": ["build:pass"], "validation": ["tests:updated"], "changes": [{"path": "services/proxy/src/index.ts", "action": "modify"}, {"path": "services/proxy/package.json", "action": "modify"}, {"path": "services/proxy/src/metrics.test.ts", "action": "modify"}], "paths": ["services/proxy/src/index.ts", "services/proxy/package.json", "services/proxy/src/metrics.test.ts"], "commits": [], "links": {"pr": "none", "issue": "none"}, "post_checks": [], "risk": "low", "impact": "Improved instrumentation fidelity.", "status": "applied", "change_type": "modify", "cost_impact": "none", "reviewers": [], "follow_ups": ["Add dashboard & alerts"], "tags": ["metrics", "prometheus"]}
{"id": "1a2b3c4d-5e6f-7081-9201-abcdefabcdef", "timestamp": "2025-08-22T22:53:10Z", "actor": "copilot-agent", "area": "services/proxy", "category": "caching", "summary": "Introduce cache configuration (TTL rules + size guard) and example config file.", "rationale": "Enable host/path-specific TTL tuning and prevent large objects from polluting cache.", "vision_alignment_confirmed": true, "relates_to_vision": ["2 High-Performance Visualization", "6 Scalable Infrastructure"], "pre_checks": ["build:pass"], "validation": ["tests:pass"], "changes": [{"path": "services/proxy/src/config/cache.config.example.json", "action": "add"}, {"path": "services/proxy/src/index.ts", "action": "modify"}], "paths": ["services/proxy/src/config/cache.config.example.json", "services/proxy/src/index.ts"], "commits": [], "links": {"pr": "none", "issue": "none"}, "post_checks": [], "risk": "low", "impact": "More efficient cache utilization.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Add size metrics"], "tags": ["cache", "ttl"]}
{"id": "9e8d7c6b-5a4f-3e2d-1c0b-a9f8e7d6c5b4", "timestamp": "2025-08-22T22:53:20Z", "actor": "copilot-agent", "area": "services/proxy", "category": "testing", "summary": "Add proxy tests (cache flow, tiles normalization, basic endpoints) and local Vitest config.", "rationale": "Increase coverage to protect new metrics & caching logic.", "vision_alignment_confirmed": true, "relates_to_vision": ["6 Scalable Infrastructure"], "pre_checks": ["build:pass"], "validation": ["tests:pass"], "changes": [{"path": "services/proxy/vitest.config.mts", "action": "add"}, {"path": "services/proxy/src/cache.test.ts", "action": "add"}, {"path": "services/proxy/src/index.test.ts", "action": "add"}, {"path": "services/proxy/src/tiles.test.ts", "action": "add"}], "paths": ["services/proxy/vitest.config.mts", "services/proxy/src/cache.test.ts", "services/proxy/src/index.test.ts", "services/proxy/src/tiles.test.ts"], "commits": [], "links": {"pr": "none", "issue": "none"}, "post_checks": [], "risk": "low", "impact": "Reduces regression risk.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Add latency assertion tests"], "tags": ["tests", "coverage"]}
{"id": "aa111bbb-222c-333d-444e-555fff666777", "timestamp": "2025-08-22T22:55:00Z", "actor": "copilot-agent", "area": "ci", "category": "performance", "summary": "Add scheduled Lighthouse audit workflow with artifact upload.", "rationale": "Automate daily performance & accessibility measurement.", "vision_alignment_confirmed": true, "relates_to_vision": ["2 High-Performance Visualization", "5 Personalization & Accessibility"], "pre_checks": ["build:n/a"], "validation": ["workflow:syntax"], "changes": [{"path": ".github/workflows/lighthouse.yml", "action": "add"}], "paths": [".github/workflows/lighthouse.yml"], "commits": [], "links": {"pr": "none"}, "post_checks": [], "risk": "low", "impact": "Continuous perf baseline.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Add regression threshold gate"], "tags": ["lighthouse", "ci"]}
{"id": "bb222ccc-333d-444e-555f-666aaa777bbb", "timestamp": "2025-08-22T22:55:10Z", "actor": "copilot-agent", "area": "ci", "category": "governance", "summary": "Enhance drift workflow to raise issue on detected drift.", "rationale": "Convert passive drift logging into actionable tracking.", "vision_alignment_confirmed": true, "relates_to_vision": ["6 Scalable Infrastructure"], "pre_checks": ["build:n/a"], "validation": ["workflow:syntax"], "changes": [{"path": ".github/workflows/terraform-drift.yml", "action": "modify"}], "paths": [".github/workflows/terraform-drift.yml"], "commits": [], "links": {"pr": "none"}, "post_checks": [], "risk": "low", "impact": "Higher visibility for infra discrepancies.", "status": "applied", "change_type": "modify", "cost_impact": "none", "reviewers": [], "follow_ups": ["Auto-close on resolution"], "tags": ["terraform", "drift"]}
{"id": "cc333ddd-444e-555f-666a-777bbb888ccc", "timestamp": "2025-08-22T22:55:20Z", "actor": "copilot-agent", "area": "ci", "category": "governance", "summary": "Add history enforcement workflow and script to verify AGENTUPDATEHISTORY coverage.", "rationale": "Ensure traceability for code changes in key areas.", "vision_alignment_confirmed": true, "relates_to_vision": ["6 Scalable Infrastructure"], "pre_checks": ["build:n/a"], "validation": ["workflow:syntax"], "changes": [{"path": "scripts/verify-history-coverage.js", "action": "add"}, {"path": ".github/workflows/history-enforcement.yml", "action": "add"}, {"path": "package.json", "action": "modify"}], "paths": ["scripts/verify-history-coverage.js", ".github/workflows/history-enforcement.yml", "package.json"], "commits": [], "links": {"pr": "none"}, "post_checks": [], "risk": "low", "impact": "Prevents untracked changes.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Tighten diff-to-entry mapping"], "tags": ["governance", "history"]}
{"id": "dd444eee-555f-666a-777b-888ccc999ddd", "timestamp": "2025-08-22T22:55:30Z", "actor": "copilot-agent", "area": "infra", "category": "refactor", "summary": "Introduce Terraform modules directory scaffold for future extraction.", "rationale": "Lay groundwork for modular infra (web, proxy, alerts).", "vision_alignment_confirmed": true, "relates_to_vision": ["6 Scalable Infrastructure"], "pre_checks": ["build:n/a"], "validation": [], "changes": [{"path": "infra/terraform/modules/README.md", "action": "add"}], "paths": ["infra/terraform/modules/README.md"], "commits": [], "links": {"pr": "none"}, "post_checks": [], "risk": "low", "impact": "Eases future infra evolution.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Extract web bucket to module"], "tags": ["terraform", "modules"]}
{"id": "eef555aa-6677-4888-99aa-bbccddeeff00", "timestamp": "2025-08-23T00:05:00Z", "actor": "copilot-agent", "area": "docs", "category": "governance", "summary": "Add Copilot operating instructions and public asset kit README; finalize accessible shell in index.html.", "rationale": "Document explicit guardrails and conventions for AI-assisted contributions and describe public asset directory to standardize future UI work; reinforces accessibility baseline.", "vision_alignment_confirmed": true, "relates_to_vision": ["6 Scalable Infrastructure", "5 Personalization & Accessibility"], "pre_checks": ["build:pass"], "validation": ["history:validate:pending"], "changes": [{"path": ".github/instructions/copilot-instructions.md", "action": "add"}, {"path": "web/public/README.txt", "action": "add"}, {"path": "web/index.html", "action": "modify"}], "paths": [".github/instructions/copilot-instructions.md", "web/public/README.txt", "web/index.html"], "commits": [], "links": {"pr": "none"}, "post_checks": [], "risk": "low", "impact": "Improves contributor alignment and UI asset clarity; lowers onboarding friction.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Backfill HEAD-TAGS snippet with real icons", "Add automated a11y checks"], "tags": ["docs", "governance", "accessibility"]}
{"id": "1122aa33-bb44-55cc-66dd-77889900ffee", "timestamp": "2025-08-23T00:25:00Z", "actor": "copilot-agent", "area": "web", "category": "ux", "summary": "Add permalink hash system, playback (daily step), layer presets (satellite, radar).", "rationale": "Improve immediate UX shareability and time exploration with minimal backend work; establishes state encoding for future features.", "vision_alignment_confirmed": true, "relates_to_vision": ["2 High-Performance Visualization", "5 Personalization & Accessibility"], "pre_checks": ["build:pass"], "validation": ["manual:hash updates", "build:pass"], "changes": [{"path": "web/src/util/store.ts", "action": "modify"}, {"path": "web/src/util/permalink.ts", "action": "add"}, {"path": "web/src/ui/MapView.tsx", "action": "modify"}, {"path": "web/src/ui/Panel.tsx", "action": "modify"}, {"path": "web/src/ui/App.tsx", "action": "modify"}], "paths": ["web/src/util/store.ts", "web/src/util/permalink.ts", "web/src/ui/MapView.tsx", "web/src/ui/Panel.tsx", "web/src/ui/App.tsx"], "commits": [{"sha": "88c8347", "message": "feat(web): permalink, playback, layer presets (satellite, radar) + hash sync"}], "links": {"pr": "none"}, "post_checks": [], "risk": "low", "impact": "Users can share current view/time and quickly toggle common layer sets.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Add hours/minutes granularity", "Include active opacity + ordering"], "tags": ["permalink", "playback", "presets"]}
{"id": "2233bb44-cc55-66dd-77ee-889900aaff11", "timestamp": "2025-08-23T00:45:00Z", "actor": "copilot-agent", "area": "web", "category": "catalog", "summary": "Enrich catalog with slug + tile metadata; dynamic panel + map layer loading components.", "rationale": "Provides structured metadata (attribution, templates, projection) enabling quick layer selection and rendering without manual coding per layer.", "vision_alignment_confirmed": true, "relates_to_vision": ["2 High-Performance Visualization"], "pre_checks": ["build:pass"], "validation": ["manual:layer buttons render", "build:pass"], "changes": [{"path": "web/public/catalog.json", "action": "modify"}, {"path": "web/src/components/Panel.tsx", "action": "add"}, {"path": "web/src/components/Map.tsx", "action": "add"}, {"path": "web/src/ui/App.tsx", "action": "modify"}], "paths": ["web/public/catalog.json", "web/src/components/Panel.tsx", "web/src/components/Map.tsx", "web/src/ui/App.tsx"], "commits": [{"sha": "558400b", "message": "feat(web): enriched catalog + dynamic panel & map layer loading"}], "links": {"pr": "none"}, "post_checks": [], "risk": "low", "impact": "Faster onboarding of new layers & consistent attribution.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Wire time parameter variability", "Add filtering & search"], "tags": ["catalog", "layers", "ui"]}
{"id": "3344cc55-dd66-77ee-88ff-99aabbccdde0", "timestamp": "2025-08-23T01:00:00Z", "actor": "copilot-agent", "area": "alerts", "category": "overlay", "summary": "Add /api/alerts DynamoDB scan endpoint and map alerts overlay (fill, outline, popup).", "rationale": "Surface ingested NWS alerts as geospatial overlay for immediate situational awareness.", "vision_alignment_confirmed": true, "relates_to_vision": ["2 High-Performance Visualization", "5 Personalization & Accessibility"], "pre_checks": ["build:pass"], "validation": ["manual:alerts overlay attempts load"], "changes": [{"path": "services/proxy/src/index.ts", "action": "modify"}, {"path": "services/proxy/package.json", "action": "modify"}, {"path": "web/src/components/Map.tsx", "action": "modify"}], "paths": ["services/proxy/src/index.ts", "services/proxy/package.json", "web/src/components/Map.tsx"], "commits": [{"sha": "b222fd9", "message": "feat(alerts): /api/alerts DynamoDB scan + map overlay (fill, outline, popup)"}], "links": {"pr": "none"}, "post_checks": [], "risk": "low", "impact": "Users can view active alert polygons; foundation for filtering & styling.", "status": "applied", "change_type": "add", "cost_impact": "none", "reviewers": [], "follow_ups": ["Add severity styling", "Cache alerts in memory with TTL"], "tags": ["alerts", "geojson", "overlay"]}
